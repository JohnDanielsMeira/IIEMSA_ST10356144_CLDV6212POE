@model List<ABCRetailersST10356144.Models.Order>

<h2>Manage Orders</h2>

<table class="table">
	<thead>
		<tr>
			<th>Customer</th>
			<th>Product</th>
			<th>Quantity</th>
			<th>Status</th>
			<th>Update</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var order in Model)
		{
			<tr>
				<td>@order.Username</td>
				<td>@order.ProductID</td>
				<td>@order.Quantity</td>
				<td>
					<form asp-action="UpdateStatus" method="post">
						<input type="hidden"name="id" value="@order.Id" />
						<select name="status" class="form-select">
    @foreach (var status in Enum.GetValues(typeof(ABCRetailersST10356144.Models.OderStatus)))
    {
        var isSelected = status.Equals(order.Status);
        @:<option value="@status" @(isSelected ? "selected" : "")>@status</option>
    }
</select>

						<button type="submit">Update Status </button>
					</form>
				</td>
				<td>@order.Status</td>
			</tr>
		}
	</tbody>
</table>
